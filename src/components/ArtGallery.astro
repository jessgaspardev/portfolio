---
import { Image } from 'astro:assets';

const images = Object.values(                                                                
  import.meta.glob<{ default: ImageMetadata }>('../assets/art/*.{jpeg,jpg,png}', { eager: true }) // needs this 2nd argument for the data to load
);
---

<div class="gallery">
  {images.map((image, index) => (
    <Image 
      src={image.default} 
      alt={`Artwork ${index + 1}`}
    />
  ))}
</div>

<style>
    .gallery {
        column-count: 3;
        column-gap: 1rem;
    }

    .gallery img {
        width: 100%;
        height: auto;
        display: block;
        margin-bottom: 1rem;
        break-inside: avoid;
    }

    @media (max-width: 768px) {
      .gallery {
        column-count: 2;
      }
    }  

    @media (max-width: 480px) {
      .gallery {
        column-count: 1;
      }
    }
</style>